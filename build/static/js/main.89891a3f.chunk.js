(this["webpackJsonpcowin-tracker"]=this["webpackJsonpcowin-tracker"]||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(25),r=a.n(c),o=(a(39),a(5)),i=a.n(o),s=a(12),l=a(4),d=a(6),p=(a(41),a(26)),h=a.n(p),u=a(13),b=a.n(u),j=a(34),m=a(7),f=a(27),y=a.n(f),x=a(31),O=a(1);var v=function(){var e,t=function(e){var t,a=0,n=[{name:"Date",selector:"date",center:!0,sortable:!0},{name:"Vacancy",selector:"vacancy",center:!0,sortable:!0}],c=[],r=Object(d.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var o=Object(l.a)(t.value,2),i=o[0],s=o[1];a=s.slots.length>a?s.slots.length:a,c.push({id:i,date:s.date,vacancy:s.available_capacity});var p,h=Object(d.a)(s.slots.entries());try{for(h.s();!(p=h.n()).done;){var u=Object(l.a)(p.value,2),b=u[0],j=u[1],m="slot".concat(b+1);c[i][m]=j}}catch(x){h.e(x)}finally{h.f()}}}catch(x){r.e(x)}finally{r.f()}for(var f=0;f<a;++f)n.push({center:!0,width:"260px",name:"Slot ".concat(f+1),selector:"slot".concat(f+1)});return Object(O.jsx)(y.a,{responsive:!0,title:e.name,columns:n,data:c,conditionalRowStyles:[{when:function(e){return e.vacancy>=45},style:{backgroundColor:"rgba(169, 252, 144)",color:"black","&:hover":{}}},{when:function(e){return e.vacancy>=10&&e.vacancy<45},style:{backgroundColor:"rgba(245, 208, 164)",color:"black","&:hover":{}}},{when:function(e){return e.vacancy<10},style:{backgroundColor:"rgba(255, 110, 110)",color:"black","&:hover":{}}}]})},a=Object(n.useState)(0),c=Object(l.a)(a,2),r=c[0],o=c[1],p=Object(n.useState)([]),u=Object(l.a)(p,2),f=u[0],v=u[1],g=Object(n.useState)(""),k=Object(l.a)(g,2),w=k[0],_=k[1],N=function(){var t=Object(s.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Date,n={method:"get"},t.prev=2,t.next=5,h.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(r,"&date=").concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),n);case 5:e=t.sent,v(e.data.centers),_("No centers found in ".concat(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.clear();case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();function C(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")}return Object(O.jsxs)("div",{className:"formfield",children:[Object(O.jsx)("h1",{className:"header mainheader",children:"CoWIN Tracker by Ankur Paul"}),Object(O.jsx)(j.a,{href:"https://github.com/nooobcoder",children:"Follow me @nooobcoder"}),Object(O.jsx)("h2",{htmlFor:"input1",className:"header",children:"PIN CODE / POSTAL CODE (required)"}),Object(O.jsx)("input",{id:"input1",name:"Name",onChange:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)("button",{id:"btn1",name:"submit",onClick:function(){N()},children:"SUBMIT"}),function(){var e,a=[],n=Object(d.a)(f);try{for(n.s();!(e=n.n()).done;){var c,r=e.value,o=r.sessions,i=[],s=Object(d.a)(o);try{for(s.s();!(c=s.n()).done;){var l=c.value,p=l.date,h=l.min_age_limit,u=l.vaccine,j=l.available_capacity;i.push({date:p,min_age_limit:h,vaccine:u,available_capacity:j})}}catch(x){s.e(x)}finally{s.f()}var y="Free"===r.fee_type?"#4CAF50":"#FF4500";a.push(Object(O.jsxs)(m.a,{style:{marginBottom:"50px",boxShadow:"10px 10px 5px #aaaaaa",borderRadius:"8px"},children:[Object(O.jsxs)(m.d,{style:{fontSize:"33px",fontFamily:"arial"},children:[Object(O.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(r.lat,",").concat(r.long),target:"_blank",children:Object(O.jsx)("img",{src:"https://www.pinclipart.com/picdir/middle/561-5612244_map-pin-icon-green-green-map-pin-png.png",height:"30px",width:"30px"})}),"CENTER NAME: ",r.name,Object(O.jsx)("a",{href:"#",target:"#",className:"tag",onClick:function(e){e.preventDefault()},style:{background:y},title:"VACCINATION TYPE: "+r.fee_type.toUpperCase(),children:r.fee_type})]},r.center_id),Object(O.jsxs)(m.b,{style:{fontSize:"25px",fontFamily:"arial"},children:["Address: ",r.block_name,", ",r.district_name,", ",r.state_name,"- ",r.pincode,t(r.sessions),Object(O.jsx)(b.a,{style:{fontSize:"12px",marginTop:"10px",borderRadius:"8px",padding:"10px"},src:i,theme:"paraiso",name:"Information",iconStyle:"triangle",displayDataTypes:!1,sortKeys:!0,collapsed:!0,displayArrayKey:!1})]}),Object(O.jsxs)(m.c,{style:{fontSize:"18px",fontFamily:"arial"},children:["FROM: ",C(r.from)," TO: ",C(r.to)]})]},r.center_id))}}catch(x){n.e(x)}finally{n.f()}return a}(),Object(O.jsx)("div",{className:"header mainheader",children:Object(O.jsx)(x.a,{videoId:"XmA0-_e2gpQ",opts:{height:"320",width:"570",playerVars:{autoplay:0}}})}),f.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"header",children:"Entire Metadata (JSON)"}),Object(O.jsx)(b.a,{src:f,theme:"monokai",collapsed:!0})]}):Object(O.jsx)("h3",{children:w}),Object(O.jsxs)("footer",{children:[Object(O.jsxs)("p",{children:["Designer: Ankur Paul ",Object(O.jsx)("a",{href:"mailto:ankurpaulin2019@gmail.com",children:"ankurpaulin2019@gmail.com"})]}),Object(O.jsxs)("p",{children:["\xa9 All data are served by the CoWIN Portal of India and it's API. Refer to ",Object(O.jsx)("a",{href:"https://apisetu.gov.in/public/marketplace/api/cowin/",children:"API"})," docs for more information"]}),Object(O.jsx)("p",{})]})]})};r.a.render(Object(O.jsx)(v,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.89891a3f.chunk.js.map