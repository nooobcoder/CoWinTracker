(this["webpackJsonpcowin-tracker"]=this["webpackJsonpcowin-tracker"]||[]).push([[0],{35:function(e,t,a){},37:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(24),r=a.n(c),s=(a(35),a(5)),i=a.n(s),o=a(10),l=a(4),d=a(3),p=(a(37),a(25)),h=a.n(p),u=a(11),j=a.n(u),b=a(30),m=a(6),f=a(26),O=a.n(f),x=a(1);var g=function(){var e,t=function(e){console.log(e.length);var t,a=0,n=[{name:"Date",selector:"date",center:!0,sortable:!0}],c=[],r=Object(d.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var s=Object(l.a)(t.value,2),i=s[0],o=s[1];a=o.slots.length>a?o.slots.length:a,c.push({id:i,date:o.date});var p,h=Object(d.a)(o.slots.entries());try{for(h.s();!(p=h.n()).done;){var u=Object(l.a)(p.value,2),j=u[0],b=u[1],m="slot".concat(j+1);c[i][m]=b}}catch(w){h.e(w)}finally{h.f()}}}catch(w){r.e(w)}finally{r.f()}console.log("MAX COLS",c);for(var f=0;f<a;++f)n.push({center:!0,name:"Slot ".concat(f+1),selector:"slot".concat(f+1)});var g,y=Object(d.a)(e);try{for(y.s();!(g=y.n()).done;){var v=g.value;console.log("DATE",v.date,v.length)}}catch(w){y.e(w)}finally{y.f()}return Object(x.jsx)(O.a,{title:e.name,columns:n,data:c})},a=Object(n.useState)(0),c=Object(l.a)(a,2),r=c[0],s=c[1],p=Object(n.useState)([]),u=Object(l.a)(p,2),f=u[0],g=u[1],y=Object(n.useState)(""),v=Object(l.a)(y,2),w=v[0],k=v[1],N=function(){var t=Object(o.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Date,n={method:"get"},t.prev=2,t.next=5,h.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(r,"&date=").concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),n);case 5:e=t.sent,g(e.data.centers),k("No centers found in ".concat(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.clear();case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();function S(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")}return Object(x.jsxs)("div",{className:"formfield",children:[Object(x.jsx)("h1",{className:"header mainheader",children:"CoWIN Tracker by Ankur Paul"}),Object(x.jsx)(b.a,{href:"https://github.com/nooobcoder",children:"Follow me @nooobcoder"}),Object(x.jsx)("h2",{htmlFor:"input1",className:"header",children:"PIN CODE (required)"}),Object(x.jsx)("input",{id:"input1",name:"Name",onChange:function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(x.jsx)("button",{id:"btn1",name:"submit",onClick:function(){N()},children:"SUBMIT"}),function(){var e,a=[],n=Object(d.a)(f);try{for(n.s();!(e=n.n()).done;){var c,r=e.value,s=r.sessions,i=[],o=Object(d.a)(s);try{for(o.s();!(c=o.n()).done;){var l=c.value,p=l.date,h=l.min_age_limit,u=l.vaccine,b=l.available_capacity;i.push({date:p,min_age_limit:h,vaccine:u,available_capacity:b})}}catch(O){o.e(O)}finally{o.f()}a.push(Object(x.jsxs)(m.a,{style:{marginBottom:"50px",boxShadow:"10px 10px 5px #aaaaaa",borderRadius:"8px"},children:[Object(x.jsxs)(m.d,{style:{fontSize:"33px",fontFamily:"arial"},children:[Object(x.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(r.lat,",").concat(r.long),target:"_blank",children:Object(x.jsx)("img",{src:"https://www.pinclipart.com/picdir/middle/561-5612244_map-pin-icon-green-green-map-pin-png.png",height:"30px",width:"30px"})}),"CENTER NAME: ",r.name,Object(x.jsx)("a",{href:"https://www.kwernerdesign.com/blog/tag/birthday-cards/",className:"tag",title:"VACCINATION TYPE: "+r.fee_type.toUpperCase(),children:r.fee_type})]},r.center_id),Object(x.jsxs)(m.b,{style:{fontSize:"25px",fontFamily:"arial"},children:["Address: ",r.block_name,", ",r.district_name,", ",r.state_name,"- ",r.pincode,t(r.sessions),Object(x.jsx)(j.a,{style:{fontSize:"18px",marginTop:"10px",borderRadius:"8px",padding:"10px"},src:i,theme:"paraiso",name:"Schedules",iconStyle:"circle",displayDataTypes:!1,sortKeys:!0,collapsed:1,displayArrayKey:!1})]}),Object(x.jsxs)(m.c,{style:{fontSize:"18px",fontFamily:"arial"},children:["FROM: ",S(r.from)," TO: ",S(r.to)]})]}))}}catch(O){n.e(O)}finally{n.f()}return a}(),f.length>0?Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{className:"header",children:"Entire Metadata (JSON)"}),Object(x.jsx)(j.a,{src:f,theme:"monokai",collapsed:1})]}):Object(x.jsx)("h3",{children:w}),Object(x.jsxs)("footer",{children:[Object(x.jsxs)("p",{children:["Designer: Ankur Paul ",Object(x.jsx)("a",{href:"mailto:ankurpaulin2019@gmail.com",children:"ankurpaulin2019@gmail.com"})]}),Object(x.jsxs)("p",{children:["\xa9 All data are served by the CoWIN Portal of India and it's API. Refer to ",Object(x.jsx)("a",{href:"https://apisetu.gov.in/public/marketplace/api/cowin/",children:"API"})," docs for more information"]}),Object(x.jsx)("p",{})]})]})};r.a.render(Object(x.jsx)(g,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.59057a14.chunk.js.map