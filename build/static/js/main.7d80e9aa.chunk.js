(this["webpackJsonpcowin-tracker"]=this["webpackJsonpcowin-tracker"]||[]).push([[0],{39:function(e,t,a){},41:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(25),r=a.n(c),o=(a(39),a(5)),i=a.n(o),s=a(12),l=a(6),d=a(4),p=(a(41),a(26)),h=a.n(p),u=a(13),b=a.n(u),j=a(34),m=a(7),f=a(27),x=a.n(f),O=a(31),y=a(1);var v=function(){var e,t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=(a[0],a[1],function(e){var t,a=0,n=[{name:"Date",selector:"date",center:!0,width:"160px",sortable:!0},{name:"Vacancy",selector:"vacancy",center:!0,width:"80px",sortable:!0},{name:"Age",width:"125px",selector:"age",center:!0,sortable:!0}],c=[],r=Object(l.a)(e.entries());try{for(r.s();!(t=r.n()).done;){var o=Object(d.a)(t.value,2),i=o[0],s=o[1];a=s.slots.length>a?s.slots.length:a,c.push({id:i,date:s.date,vacancy:s.available_capacity,age:s.min_age_limit});var p,h=Object(l.a)(s.slots.entries());try{for(h.s();!(p=h.n()).done;){var u=Object(d.a)(p.value,2),b=u[0],j=u[1],m="slot".concat(b+1);c[i][m]=j}}catch(O){h.e(O)}finally{h.f()}}}catch(O){r.e(O)}finally{r.f()}for(var f=0;f<a;++f)n.push({center:!0,width:"auto",name:"Slot ".concat(f+1),selector:"slot".concat(f+1)});return Object(y.jsx)(x.a,{responsive:!0,title:e.name,columns:n,data:c,conditionalRowStyles:[{when:function(e){return e.vacancy>=45},style:{backgroundColor:"rgba(169, 252, 144)",color:"black","&:hover":{}}},{when:function(e){return e.vacancy>=10&&e.vacancy<45},style:{backgroundColor:"rgba(245, 208, 164)",color:"black","&:hover":{}}},{when:function(e){return e.vacancy<10},style:{backgroundColor:"rgba(255, 110, 110)",color:"black","&:hover":{}}}]})}),r=Object(n.useState)(0),o=Object(d.a)(r,2),p=o[0],u=o[1],f=Object(n.useState)([]),v=Object(d.a)(f,2),g=v[0],w=v[1],k=Object(n.useState)(""),_=Object(d.a)(k,2),N=_[0],S=_[1],A=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=new Date,c={method:"get"},t.prev=3,t.next=6,h.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByPin?pincode=".concat(p,"&date=").concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),c);case 6:e=t.sent,w(e.data.centers),S("No vaccination centers found in ".concat(p)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.clear();case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}();function C(e){return(e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join("")}return Object(y.jsxs)("div",{className:"formfield",children:[Object(y.jsx)("h1",{className:"header mainheader",children:"CoWIN Tracker by Ankur Paul"}),Object(y.jsx)(j.a,{href:"https://github.com/nooobcoder",children:"Follow me @nooobcoder"}),Object(y.jsx)("div",{className:"header mainheader",children:Object(y.jsx)(O.a,{videoId:"XmA0-_e2gpQ",opts:{height:"320",width:"570",playerVars:{autoplay:0}}})}),Object(y.jsx)("h2",{htmlFor:"input1",className:"header",children:"PIN CODE / POSTAL CODE (required)"}),Object(y.jsxs)("form",{onSubmit:A,className:"formfield",children:[Object(y.jsx)("input",{id:"input1",name:"Name",onChange:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(y.jsx)("br",{}),Object(y.jsx)("button",{id:"btn1",name:"submit",type:"submit",children:"SUBMIT"})]}),function(){var e,t=[],a=Object(l.a)(g);try{for(a.s();!(e=a.n()).done;){var n,r=e.value,o=r.sessions,i=[],s=Object(l.a)(o);try{for(s.s();!(n=s.n()).done;){var d=n.value,p=d.date,h=d.min_age_limit,u=d.vaccine,j=d.available_capacity;i.push({date:p,min_age_limit:h,vaccine:u,available_capacity:j})}}catch(x){s.e(x)}finally{s.f()}var f="Free"===r.fee_type?"#4CAF50":"#FF4500";t.push(Object(y.jsxs)(m.a,{style:{marginBottom:"50px",boxShadow:"10px 10px 5px #aaaaaa",borderRadius:"8px"},children:[Object(y.jsxs)(m.d,{style:{fontSize:"33px",fontFamily:"arial"},children:[Object(y.jsx)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(r.lat,",").concat(r.long),target:"_blank",children:Object(y.jsx)("img",{src:"https://www.pinclipart.com/picdir/middle/561-5612244_map-pin-icon-green-green-map-pin-png.png",height:"30px",width:"30px"})}),"CENTER NAME: ",r.name,Object(y.jsx)("a",{href:"#",target:"#",className:"tag",onClick:function(e){e.preventDefault()},style:{background:f},title:"VACCINATION TYPE: "+r.fee_type.toUpperCase(),children:r.fee_type})]},r.center_id),Object(y.jsxs)(m.b,{style:{fontSize:"25px",fontFamily:"arial"},children:["Address: ",r.block_name,", ",r.district_name,", ",r.state_name,"- ",r.pincode,c(r.sessions),Object(y.jsx)(b.a,{style:{fontSize:"12px",marginTop:"10px",borderRadius:"8px",padding:"10px"},src:i,theme:"paraiso",name:"Information",iconStyle:"triangle",displayDataTypes:!1,sortKeys:!0,collapsed:!0,displayArrayKey:!1})]}),Object(y.jsxs)(m.c,{style:{fontSize:"18px",fontFamily:"arial"},children:["FROM: ",C(r.from)," TO: ",C(r.to)]})]},r.center_id))}}catch(x){a.e(x)}finally{a.f()}return t}(),g.length>0?Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{className:"header",children:"Entire Metadata (JSON)"}),Object(y.jsx)(b.a,{src:g,theme:"monokai",collapsed:!0})]}):Object(y.jsx)("h2",{className:"header ",style:{color:"red"},children:N}),Object(y.jsxs)("footer",{children:[Object(y.jsxs)("p",{children:["Designer: Ankur Paul ",Object(y.jsx)("a",{href:"mailto:ankurpaulin2019@gmail.com",children:"ankurpaulin2019@gmail.com"})]}),Object(y.jsxs)("p",{children:["\xa9 All data are served by the CoWIN Portal of India and it's API. Refer to ",Object(y.jsx)("a",{href:"https://apisetu.gov.in/public/marketplace/api/cowin/",children:"API"})," docs for more information"]}),Object(y.jsx)("p",{})]})]})};r.a.render(Object(y.jsx)(v,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.7d80e9aa.chunk.js.map